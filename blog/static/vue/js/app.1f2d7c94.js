(function(){"use strict";var s={1366:function(s,e,t){var a=t(9242),o=t(5269),i=t.n(o),r=t(3396),l=t(7139);const n={id:"app"},c={class:"nav-container"},u={class:"my-nav"},d={class:"main-nav"},m=(0,r._)("h1",{class:"title is-5 my-nav-link"},"Home",-1),h=(0,r._)("h1",{class:"title is-5 my-nav-link"},"Profile",-1),g={class:"dropdown is-hoverable"},f={class:"dropdown-trigger"},p={class:"title is-5 my-nav-link"},_={class:"dropdown-menu",id:"dropdown-menu4",role:"menu"},v={class:"dropdown-content"},w={class:"dropdown-item"},k=(0,r._)("h1",{class:"title is-5"},"Horror",-1),b=(0,r._)("h1",{class:"title is-5"},"Health",-1),$=(0,r._)("h1",{class:"title is-5"},"Adventure",-1),y=(0,r._)("h1",{class:"title is-5"},"Thriller",-1),S=(0,r._)("h1",{class:"title is-5"},"Romance",-1),z=(0,r._)("h1",{class:"title is-5"},"Crime",-1),D=(0,r._)("h1",{class:"title is-5"},"Science Fiction",-1),W={class:"basket-icon"},C={class:"title is-2"},M={class:"popout-basket"},L={key:0,class:"popout-basket-button"},A={key:1,class:"popout-basket-button"},P=(0,r._)("h1",{class:"title is-1"},"Basket is empty!",-1),x=(0,r._)("h1",{class:"title is-1"},"ðŸ™",-1),I=[P,x],F={class:"basket-items-container"},R={class:"basket-items"},T=["src"],U={class:"basket-paragraf-price"},O=["onClick"],B=(0,r._)("hr",null,null,-1),H={class:"modal",ref:"modalApp"},Z=(0,r._)("div",{class:"modal-background"},null,-1),E={class:"modal-card"},N={class:"modal-card-head is-flex is-justify-content-space-between"},V={class:"modal-card-title"},Y={class:"modal-card-title has-text-dark has-text-weight-bold"},j={class:"modal-card-body"},G={class:"is-flex m-2"},q=["src"],K={class:"title is-5 is-italic ml-3"},X={class:"title is-5 is-italic ml-3"},J={class:"modal-card-foot"},Q={key:0,class:"navbar-end"},ss={class:"navbar-item"},es={class:"buttons"},ts={class:"button"},as=(0,r._)("h1",{class:"title is-5"},"Sing-up",-1),os={class:"button"},is=(0,r._)("h1",{class:"title is-5"},"Login",-1),rs={class:"username-photo-container-main"},ls={class:"username-photo-container"},ns={class:"image is-48x48 user-image"},cs=["src"],us={class:"user-username"},ds={class:"title is-3"},ms={class:"icon"},hs=(0,r._)("h1",{class:"title is-5",style:{color:"white"}}," log me out",-1),gs={class:"message-pop-out"},fs={class:"title is-4"},ps={class:"message-pop-out-basket"},_s={class:"title is-4"},vs={class:"message-payment"},ws=(0,r._)("h1",{class:"title is-3"},"Payment succsefull",-1),ks=(0,r._)("h1",{class:"title is-3"},"Confirmation email will be send shortly",-1),bs=[ws,ks],$s={class:"field has-addons search-container"},ys={class:"control is-expanded"},Ss={class:"control"},zs={class:"button is-info"},Ds={class:"icon is-small"},Ws=(0,r._)("h1",{class:"title is-5",style:{color:"white"}},"Search",-1);function Cs(s,e,t,o,i,P){const x=(0,r.up)("router-link"),ws=(0,r.up)("font-awesome-icon"),ks=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",n,[(0,r._)("div",c,[(0,r._)("nav",u,[(0,r._)("div",d,[(0,r.Wm)(x,{to:"/home-page"},{default:(0,r.w5)((()=>[m])),_:1}),(0,r.Wm)(x,{to:"/user-profile"},{default:(0,r.w5)((()=>[h])),_:1}),(0,r._)("div",g,[(0,r._)("div",f,[(0,r._)("h1",p,[(0,r.Wm)(ws,{icon:"fa-solid fa-arrow-down"}),(0,r.Uk)(" Categories")])]),(0,r._)("div",_,[(0,r._)("div",v,[(0,r._)("div",w,[(0,r.Wm)(x,{to:{name:"search-book-by-genre",params:{genre:"Horror"}},class:"navbar-item"},{default:(0,r.w5)((()=>[k])),_:1}),(0,r.Wm)(x,{to:{name:"search-book-by-genre",params:{genre:"Health"}},class:"navbar-item"},{default:(0,r.w5)((()=>[b])),_:1}),(0,r.Wm)(x,{to:{name:"search-book-by-genre",params:{genre:"Adventure"}},class:"navbar-item"},{default:(0,r.w5)((()=>[$])),_:1}),(0,r.Wm)(x,{to:{name:"search-book-by-genre",params:{genre:"Thriller"}},class:"navbar-item"},{default:(0,r.w5)((()=>[y])),_:1}),(0,r.Wm)(x,{to:{name:"search-book-by-genre",params:{genre:"Romance"}},class:"navbar-item"},{default:(0,r.w5)((()=>[S])),_:1}),(0,r.Wm)(x,{to:{name:"search-book-by-genre",params:{genre:"Crime"}},class:"navbar-item"},{default:(0,r.w5)((()=>[z])),_:1}),(0,r.Wm)(x,{to:{name:"search-book-by-genre",params:{genre:"Science-Fiction"}},class:"navbar-item"},{default:(0,r.w5)((()=>[D])),_:1})])])])])]),(0,r._)("div",{class:"basket-container",onMouseover:e[1]||(e[1]=(...s)=>P.showBasket&&P.showBasket(...s)),onMouseleave:e[2]||(e[2]=(...s)=>P.hideBasket&&P.hideBasket(...s))},[(0,r._)("div",W,[(0,r.Wm)(ws,{icon:"fa-solid fa-cart-shopping",size:"3x"}),(0,r._)("h1",C,(0,l.zw)(s.$store.state.count),1)]),(0,r.wy)((0,r._)("div",M,[s.$store.state.totalPrice.toFixed(2)>1?((0,r.wg)(),(0,r.iD)("div",L,[(0,r._)("button",{class:"button is-fullwidth is-success is-large",onClick:e[0]||(e[0]=(...s)=>P.showModalApp&&P.showModalApp(...s))},"checkout Â£"+(0,l.zw)(s.$store.state.totalPrice.toFixed(2)),1)])):((0,r.wg)(),(0,r.iD)("div",A,I)),(0,r._)("div",F,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.$store.state.basketList,((s,e)=>((0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",R,[(0,r._)("div",null,[(0,r._)("img",{src:s["book-photo"],alt:"",width:"70"},null,8,T),(0,r._)("p",null,(0,l.zw)(s["book-name"]),1)]),(0,r._)("div",null,[(0,r._)("p",U,"Â£"+(0,l.zw)(s["price"]),1),(0,r._)("button",{class:"button is-small is-danger is-rounded remove-button-basket",onClick:t=>{P.removeFromBasket(e,s["slug"]),P.subtractPrice(s["price"]),P.removeBookPopUpMsg()}},"remove",8,O)])]),B])))),256))])],512),[[a.F8,i.basket]])],32),(0,r._)("div",H,[Z,(0,r._)("div",E,[(0,r._)("header",N,[(0,r._)("div",null,[(0,r._)("p",V,"you're buying "+(0,l.zw)(s.$store.state.count)+" book",1)]),(0,r._)("div",null,[(0,r._)("p",Y,"total: "+(0,l.zw)(s.$store.state.totalPrice.toFixed(2)),1)])]),(0,r._)("section",j,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.$store.state.basketList,(s=>((0,r.wg)(),(0,r.iD)("div",G,[(0,r._)("img",{src:s["book-photo"],width:"70"},null,8,q),(0,r._)("div",null,[(0,r._)("h1",K,(0,l.zw)(s["book-name"]),1),(0,r._)("h1",X,"Â£"+(0,l.zw)(s["price"]),1)])])))),256))]),(0,r._)("footer",J,[(0,r._)("button",{class:"button is-success",onClick:e[3]||(e[3]=(...s)=>P.removeModalApp&&P.removeModalApp(...s))},[(0,r.Wm)(x,{to:"/books-checkout"},{default:(0,r.w5)((()=>[(0,r.Uk)("Confirm")])),_:1})]),(0,r._)("button",{class:"button is-danger is-outlined",onClick:e[4]||(e[4]=(...s)=>P.removeModalApp&&P.removeModalApp(...s))},"Cancel")])])],512),null==s.$store.state.userId?((0,r.wg)(),(0,r.iD)("div",Q,[(0,r._)("div",ss,[(0,r._)("div",es,[(0,r._)("button",ts,[(0,r.Wm)(x,{to:"/register"},{default:(0,r.w5)((()=>[as])),_:1})]),(0,r._)("button",os,[(0,r.Wm)(x,{to:"/login"},{default:(0,r.w5)((()=>[is])),_:1})])])])])):(0,r.kq)("",!0),(0,r.wy)((0,r._)("div",rs,[(0,r._)("div",ls,[i.user?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"username-photo",onMouseover:e[5]||(e[5]=(...s)=>P.showLogout&&P.showLogout(...s))},[(0,r._)("figure",ns,[(0,r._)("img",{src:s.$store.state.userImage,class:"is-rounded"},null,8,cs)]),(0,r.wy)((0,r._)("div",us,[(0,r._)("h3",ds,(0,l.zw)(s.$store.state.username),1)],512),[[a.F8,null!=s.$store.state.userId]])],32)):(0,r.kq)("",!0),i.Logout?((0,r.wg)(),(0,r.iD)("div",{key:1,onMouseleave:e[7]||(e[7]=(...s)=>P.hideLogout&&P.hideLogout(...s)),class:"logout-icon"},[(0,r._)("a",{class:"button is-info logout-button is-fullwidth",onClick:e[6]||(e[6]=(...s)=>P.logout&&P.logout(...s))},[(0,r._)("span",ms,[(0,r.Wm)(ws,{icon:"fa-solid fa-right-from-bracket",size:"2x"})]),hs])],32)):(0,r.kq)("",!0)])],512),[[a.F8,null!=s.$store.state.userId]]),(0,r.wy)((0,r._)("div",gs,[(0,r._)("h1",fs,(0,l.zw)(s.$store.state.popOutMsg),1)],512),[[a.F8,null!=s.$store.state.popOutMsg]]),(0,r.wy)((0,r._)("div",ps,[(0,r._)("h1",_s,(0,l.zw)(s.$store.state.count)+"-"+(0,l.zw)(s.$store.state.popOutMsgBasket),1)],512),[[a.F8,null!=s.$store.state.popOutMsgBasket]]),(0,r.wy)((0,r._)("div",vs,bs,512),[[a.F8,!0===s.$store.state.paymentMessage]])])]),(0,r._)("div",$s,[(0,r._)("div",ys,[(0,r.wy)((0,r._)("input",{class:"input is-hovered",type:"text","onUpdate:modelValue":e[8]||(e[8]=s=>i.value=s),placeholder:"Find a book"},null,512),[[a.nr,i.value]])]),(0,r._)("div",Ss,[(0,r._)("a",zs,[(0,r._)("span",Ds,[(0,r.Wm)(ws,{icon:"fa-solid fa-magnifying-glass"})]),(0,r.Wm)(x,{to:{name:"search",params:{data:i.value}}},{default:(0,r.w5)((()=>[Ws])),_:1},8,["to"])])])]),((0,r.wg)(),(0,r.j4)(ks,{key:s.$route.fullPath}))])}t(7658);const Ms={class:"userNotFound"},Ls=(0,r._)("h1",{class:"title is-3"},"User not found, please try again",-1),As=[Ls],Ps={class:"page-sign-up"},xs={class:"columns"},Is={class:"column is-4 is-offset-4"},Fs=(0,r._)("h1",{class:"title"},"Log in",-1),Rs={class:"field"},Ts=(0,r._)("label",null,"Username",-1),Us={class:"control"},Os={class:"field"},Bs=(0,r._)("label",null,"Password",-1),Hs={class:"control"},Zs={key:0,class:"notification is-danger"},Es=(0,r._)("div",{class:"field"},[(0,r._)("div",{class:"control"},[(0,r._)("button",{class:"button is-dark"},"login")])],-1);function Ns(s,e,t,o,i,n){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.wy)((0,r._)("div",Ms,As,512),[[a.F8,0!=i.userNotLoggedIn]]),(0,r._)("div",Ps,[(0,r._)("div",xs,[(0,r._)("div",Is,[Fs,(0,r._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...s)=>n.submitForm&&n.submitForm(...s)),["prevent"]))},[(0,r._)("div",Rs,[Ts,(0,r._)("div",Us,[(0,r.wy)((0,r._)("input",{type:"text",class:"input",name:"username","onUpdate:modelValue":e[0]||(e[0]=s=>i.username=s)},null,512),[[a.nr,i.username]])])]),(0,r._)("div",Os,[Bs,(0,r._)("div",Hs,[(0,r.wy)((0,r._)("input",{type:"password",class:"input",name:"password","onUpdate:modelValue":e[1]||(e[1]=s=>i.password=s)},null,512),[[a.nr,i.password]])])]),i.errors.length?((0,r.wg)(),(0,r.iD)("div",Zs,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.errors,(s=>((0,r.wg)(),(0,r.iD)("p",{key:s},(0,l.zw)(s),1)))),128))])):(0,r.kq)("",!0),Es],32)])])])],64)}var Vs=t(70),Ys={name:"Login",data(){return{username:"",password:"",password2:"",userLoggedIn:null,userNotLoggedIn:!1,errors:[]}},mounted(){"true"===this.$route.query.deleted&&(this.$store.commit("showMsg","User removed successfully"),this.$router.replace({query:{}}))},methods:{submitForm(){let s=this;if(this.errors=[],""===this.username&&this.errors.push("The username is missing"),this.username.split(" ").map((s=>s.trim())).length>1&&this.errors.push("Enter a valid username. This value may contain only letters, numbers, and @/./+/-/_ characters."),this.password.length<3&&this.errors.push("The password is too short, at least 8 charachters"),!this.errors.length){const e={username:this.username,password:this.password};Vs.ZP.post("users/login/",e).then((function(e){return"UserNone"==e.data?(s.$store.commit("showMsg","user dose not exist"),s.$router.push("/login")):(s.$cookies.set("user-token",e.data["user_id"]),s.$cookies.set("userID",e.data["userID"]),s.$cookies.set("user-succsess",e.data["user"]),localStorage.setItem("myPhoto",e.data["photo"]),s.$store.commit("showMsg","welcome "+e.data["user"]),s.$router.go(-1))}))}}}},js=t(89);const Gs=(0,js.Z)(Ys,[["render",Ns]]);var qs=Gs,Ks={name:"App",data(){return{showModel:!1,basket:!1,Logout:!1,value:null,l:[],price:0,user:!0}},watch:{$route(s,e){"log-in"===e.name&&(this.$store.state.userId=this.$cookies.get("userID"),this.$store.state.userImage=localStorage.getItem("myPhoto"),this.$store.state.username=this.$cookies.get("user-succsess"),this.getBooks())}},mounted(){this.$store.state.userId=this.$cookies.get("userID"),this.$store.state.userImage=localStorage.getItem("myPhoto"),this.$store.state.username=this.$cookies.get("user-succsess"),this.getBooks()},methods:{showBasket(){this.basket=!0},hideBasket(){this.basket=!1},showLogout(){this.Logout=!0,this.user=!1},hideLogout(){this.Logout=!1,this.user=!0},removeFromBasket(s,e){if(this.$store.commit("removeFromBasketStore",s),this.$cookies.get("userID")||this.$store.state.userId){const s=new FormData;s.append("user_id",this.$cookies.get("userID")),s.append("slug",e),Vs.ZP.post("articles/delete-book-from-basket/",s)}0==this.$store.state.basketList.length&&(this.basket=!1)},subtractPrice(s){this.$store.commit("subtractPriceStore",s)},removeBookPopUpMsg(){this.$store.commit("showMsg","book removed from the basket")},getBooks(){var s=this;if(this.$cookies.get("userID")||this.$store.state.userId){const e=new FormData;e.append("user_id",this.$cookies.get("userID")),Vs.ZP.post("articles/get-books-from-basket/",e).then((e=>{console.log(e.data),e.data.forEach((function(e){s.price+=e.book_price,s.l.push(e.book),s.l.push(e.book_price),s.l.push(e.image_path),s.l.push(e.slug),s.$store.commit("addBookToBasket",s.l),s.l=[]})),s.$store.state.totalPrice=s.price})).catch((s=>{console.log(s)}))}},logout(){this.$cookies.remove("userID"),this.$cookies.remove("user-succsess"),this.$cookies.remove("user-token"),localStorage.removeItem("myPhoto"),this.$router.go(0)},searchGenre(s){Vs.ZP.get(`/articles/books-by-genres/${s}/`).then((s=>{console.log(s.data)})).catch((s=>{console.log(s)}))},showModalApp(){this.$refs.modalApp.classList.add("is-active")},removeModalApp(){this.$refs.modalApp.classList.remove("is-active")}}};const Xs=(0,js.Z)(Ks,[["render",Cs]]);var Js=Xs,Qs=t(2483);const se={class:"main-home"},ee={class:"container-articles"},te=["src"],ae={class:"title is-5"},oe={class:"basket-container"},ie={class:"stars-home-view-container"},re={class:"home-view-comments"},le={class:"title is-5"},ne=(0,r._)("div",{class:"container"},null,-1),ce=(0,r._)("div",{class:"container"},null,-1);function ue(s,e,t,a,o,i){const n=(0,r.up)("router-link"),c=(0,r.up)("Basket"),u=(0,r.up)("ArticleStarsHome");return(0,r.wg)(),(0,r.iD)("div",se,[(0,r._)("div",ee,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.Articles,(s=>((0,r.wg)(),(0,r.iD)("div",{key:s.id,class:"container box"},[(0,r.Wm)(n,{to:{name:"article",params:{slug:s.slug}}},{default:(0,r.w5)((()=>[(0,r._)("img",{class:"home-images",src:s.image_path,width:"200"},null,8,te)])),_:2},1032,["to"]),(0,r._)("h1",ae,(0,l.zw)(s.name),1),(0,r._)("div",oe,[(0,r.Wm)(c,{slug:s.slug,bookName:s.name,bookPhoto:s.image_path,bookPrice:s.price},null,8,["slug","bookName","bookPhoto","bookPrice"])]),(0,r._)("div",ie,[(0,r.Wm)(u,{slug:s.slug},null,8,["slug"])]),(0,r._)("div",re,[(0,r._)("h1",le,(0,l.zw)(s.num_of_comments)+" reviews",1)])])))),128)),ne,ce])])}function de(s,e,t,a,o,i){return(0,r.wg)(),(0,r.iD)("button",{class:"button is-medium is-fullwidth is-success is-rounded button-add-to-basket",onClick:e[0]||(e[0]=s=>{i.bookToBasket(t.bookName,t.bookPrice,t.bookPhoto,t.slug),i.addPrice(t.bookPrice),i.addBookPopUpMsg()})},"add to basket")}var me={props:["bookName","bookPrice","bookPhoto","slug"],name:"Basket",data(){return{num:0,track:0,newTrack:null,count:0,l:[]}},methods:{bookToBasket(s,e,t,a){if(this.l.push(s),this.l.push(e),this.l.push(t),this.l.push(a),this.$store.commit("addBookToBasket",this.l),this.$cookies.get("userID")||this.$store.state.userId){const s=new FormData;s.append("user_id",this.$cookies.get("userID")),s.append("slug",a),Vs.ZP.post("articles/book-to-basket/",s)}},addPrice(s){this.$store.commit("addPriceStore",s)},addBookPopUpMsg(){this.$store.commit("showMsgBasket","book added in the basket")}}};const he=(0,js.Z)(me,[["render",de]]);var ge=he;const fe={class:"stars-container-home-view"},pe={class:"book-grade"},_e={class:"no-star"},ve={class:"one-star"},we={class:"one-half-star"},ke={class:"two-star"},be={class:"two-half-star"},$e={class:"three-star"},ye={class:"three-half-star"},Se={class:"four-star"},ze={class:"four-half-star"},De={class:"five-star"},We={class:"ratings"};function Ce(s,e,t,o,i,n){const c=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",fe,[(0,r._)("div",pe,[(0,r._)("h1",{class:"title is-5",onMouseover:e[0]||(e[0]=(...e)=>s.showStarsDatails&&s.showStarsDatails(...e)),onMouseleave:e[1]||(e[1]=(...e)=>s.removeStarsDatails&&s.removeStarsDatails(...e))},(0,l.zw)(i.bookAvergeRate),33)]),(0,r._)("div",{class:"stars-home-view",onMouseover:e[2]||(e[2]=(...e)=>s.showStarsDatails&&s.showStarsDatails(...e)),onMouseleave:e[3]||(e[3]=(...e)=>s.removeStarsDatails&&s.removeStarsDatails(...e))},[(0,r.wy)((0,r._)("div",_e,[(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,i.bookAvergeRate<1]]),(0,r.wy)((0,r._)("div",ve,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,1==i.bookAvergeRate&&i.bookAvergeRate<=1.2]]),(0,r.wy)((0,r._)("div",we,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star-half-stroke",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,i.bookAvergeRate>1.3&&i.bookAvergeRate<=1.7]]),(0,r.wy)((0,r._)("div",ke,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,i.bookAvergeRate>1.7&&i.bookAvergeRate<=2.2]]),(0,r.wy)((0,r._)("div",be,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star-half-stroke",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,i.bookAvergeRate>2.2&&i.bookAvergeRate<=2.7]]),(0,r.wy)((0,r._)("div",$e,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,i.bookAvergeRate>2.7&&i.bookAvergeRate<=3.2]]),(0,r.wy)((0,r._)("div",ye,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star-half-stroke",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,i.bookAvergeRate>3.2&&i.bookAvergeRate<=3.7]]),(0,r.wy)((0,r._)("div",Se,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,i.bookAvergeRate>3.7&&i.bookAvergeRate<=4.2]]),(0,r.wy)((0,r._)("div",ze,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star-half-stroke",class:"star-orange",size:"lg"})],512),[[a.F8,i.bookAvergeRate>4.2&&i.bookAvergeRate<=4.7]]),(0,r.wy)((0,r._)("div",De,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"})],512),[[a.F8,i.bookAvergeRate>4.7]])],32)]),(0,r._)("div",We,[(0,r._)("h1",{class:"title is-5",onMouseover:e[4]||(e[4]=(...e)=>s.showStarsDatails&&s.showStarsDatails(...e)),onMouseleave:e[5]||(e[5]=(...e)=>s.removeStarsDatails&&s.removeStarsDatails(...e))},(0,l.zw)(i.totalReviews)+" ratings ",33)])],64)}var Me={props:["slug"],name:"ArticleStarsHome",data(){return{showPercentageEachStar:[],showStar:!1,totalReviews:null,bookAvergeRate:null}},mounted(){this.showArticleStarsHomeView(this.slug)},methods:{async showArticleStarsHomeView(s){await Vs.ZP.get(`/articles/article-stars/${s}/`).then((s=>{this.totalReviews=s.data.total[1],this.bookAvergeRate=s.data.total[0].toFixed(1)})).catch((s=>{console.log(s)}))}}};const Le=(0,js.Z)(Me,[["render",Ce]]);var Ae=Le,Pe={name:"HomeView",components:{Basket:ge,ArticleStarsHome:Ae},data(){return{Articles:[],isVisible:!1,username_created:null,username_login:null,userLoggedIn:null}},mounted(){this.getArticles()},methods:{async getArticles(){await Vs.ZP.get("articles/").then((s=>{this.Articles=s.data})).catch((s=>{console.log(s)}))}}};const xe=(0,js.Z)(Pe,[["render",ue]]);var Ie=xe;const Fe={class:"main-article-container"},Re={class:"imagee-2"},Te={class:"imagee"},Ue={class:"pic"},Oe=["src"],Be={class:"zzz"},He={class:"main-container"},Ze={class:"main-container-2"},Ee={class:"article-title"},Ne={class:"title is-2 is-italic abc"},Ve={class:"title is-1 is-italic"},Ye={class:"title is-4"},je={class:"vjezba"},Ge={class:"genre"},qe=(0,r._)("h1",{class:"title is-6"},"Genres: ",-1),Ke={class:"title is-6 is-italic genre-category"},Xe={class:"modal",ref:"modal"},Je=(0,r._)("div",{class:"modal-background"},null,-1),Qe={class:"modal-card"},st={class:"modal-card-head is-flex is-justify-content-space-between"},et=(0,r._)("div",null,[(0,r._)("p",{class:"modal-card-title"},"you are buying 1 book")],-1),tt={class:"modal-card-title has-text-dark has-text-weight-bold"},at={class:"modal-card-body"},ot={class:"is-flex"},it=["src"],rt={class:"title is-5 is-italic ml-3"},lt={class:"modal-card-foot"},nt=(0,r._)("button",{class:"button is-success"},"Confirm",-1),ct=(0,r._)("hr",null,null,-1),ut=(0,r._)("h3",{class:"title is-3"},"Ratings & Reviews",-1),dt=(0,r._)("hr",null,null,-1),mt={class:"Comment-Component"},ht=(0,r._)("hr",null,null,-1),gt={class:"comment-container"},ft={class:"comment-first-container"},pt=["src"],_t={class:"title is-4"},vt={class:"title is-6"},wt={class:"comment-content"},kt={class:"title is-5"},bt={class:"subtitle is-5 comment-description"},$t=["onClick"],yt=["onClick"],St={class:"thumbs-and-delete"},zt={class:"thumbs"},Dt={class:"tooltip"},Wt=(0,r._)("span",{class:"tooltiptext"},"Take it back",-1),Ct={class:"tooltip"},Mt=(0,r._)("span",{class:"tooltiptext"},"I like it",-1),Lt={class:"tooltip"},At=(0,r._)("span",{class:"tooltiptext"},"Take it back",-1),Pt={class:"tooltip"},xt=(0,r._)("span",{class:"tooltiptext"},"I don't like it",-1),It=["onClick"],Ft=(0,r._)("hr",null,null,-1);function Rt(s,e,t,o,i,n){const c=(0,r.up)("RatingStarsSystem"),u=(0,r.up)("Basket"),d=(0,r.up)("ArticleStars"),m=(0,r.up)("Carousel"),h=(0,r.up)("CommentComponent"),g=(0,r.up)("CommentStars"),f=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)("div",Fe,[(0,r._)("div",Re,[(0,r._)("div",Te,[(0,r._)("div",Ue,[(0,r._)("img",{src:i.Article.image_path},null,8,Oe)]),(0,r._)("div",Be,[(0,r.Wm)(c,{slug:i.Article.slug,title:i.Article.name,bookPhoto:i.Article.image_path,price:i.Article.price,onUpdateStarsOnComment:n.updateStarsComment,onModalOpen:n.showModal},null,8,["slug","title","bookPhoto","price","onUpdateStarsOnComment","onModalOpen"]),(0,r.Wm)(u,{slug:i.Article.slug,bookName:i.Article.name,bookPhoto:i.Article.image_path,bookPrice:i.Article.price},null,8,["slug","bookName","bookPhoto","bookPrice"])])])]),(0,r._)("div",He,[(0,r._)("div",Ze,[(0,r._)("div",Ee,[(0,r._)("h1",Ne,(0,l.zw)(i.Article.name),1),(0,r._)("h1",Ve,"Â£"+(0,l.zw)(i.Article.price),1)]),(0,r._)("h1",Ye,(0,l.zw)(i.Article.writer),1),(0,r._)("div",je,[(0,r.Wm)(d,{slug:s.$route.params.slug,datax:i.datax,totalStars:i.totalStars,numOfComments:i.Comments.length},null,8,["slug","datax","totalStars","numOfComments"])]),(0,r._)("div",Ge,[qe,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.Article.categories,(s=>((0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("h1",Ke,(0,l.zw)(s)+" , ",1)])))),256))]),(0,r._)("div",Xe,[Je,(0,r._)("div",Qe,[(0,r._)("header",st,[et,(0,r._)("div",null,[(0,r._)("p",tt,"total: Â£"+(0,l.zw)(i.Article.price),1)])]),(0,r._)("section",at,[(0,r._)("div",ot,[(0,r._)("img",{src:i.Article.image_path,width:"80"},null,8,it),(0,r._)("h1",rt,(0,l.zw)(i.Article.name),1)])]),(0,r._)("footer",lt,[nt,(0,r._)("button",{class:"button is-danger is-outlined",onClick:e[0]||(e[0]=(...s)=>n.removeModal&&n.removeModal(...s))},"Cancel")])])],512),(0,r._)("p",null,[(0,r.Uk)((0,l.zw)(i.Article.description_1st_part)+" ",1),(0,r._)("span",{onClick:e[1]||(e[1]=(...s)=>n.readMore&&n.readMore(...s)),ref:"readMoreLink",class:"readxxx is-underlined"},"... read more",512),(0,r.wy)((0,r._)("span",null,[(0,r.Uk)((0,l.zw)(i.Article.description_2nd_part)+" ",1),(0,r._)("span",{onClick:e[2]||(e[2]=(...s)=>n.readLess&&n.readLess(...s)),ref:"readLessLink",class:"readxxx is-underlined"},"... read less",512)],512),[[a.F8,i.secondPart]])]),ct,(0,r.Wm)(m,{genres:i.Article.categories},null,8,["genres"]),ut,dt,(0,r._)("div",mt,[(0,r.Wm)(h,{slugg:i.Article.slug,onClose:n.toggleModel,onMyComment:n.publish},null,8,["slugg","onClose","onMyComment"])]),ht,(0,r._)("div",gt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.Comments,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:"comment-div",key:e.id},[(0,r._)("div",ft,[(0,r._)("div",null,[(0,r._)("img",{src:e.user_photo,class:"rounded-avatar"},null,8,pt),(0,r._)("h1",_t,(0,l.zw)(e.username),1)]),(0,r.wy)((0,r.Wm)(g,{class:"comment-stars",s:e.user_stars},null,8,["s"]),[[a.F8,0!=e.user_stars]]),(0,r._)("h1",vt,(0,l.zw)(e.datepublished),1)]),(0,r._)("div",wt,[(0,r._)("h1",kt,(0,l.zw)(e.title),1),(0,r._)("h1",bt,[(0,r._)("span",{ref_for:!0,ref:`readLessCommentRef${e.id}`,style:{"white-space":"pre-line"}},(0,l.zw)(e.comment_1st_part),513),(0,r._)("span",{ref_for:!0,ref:`readMoreCommentRef${e.id}`,class:"aaa",style:{"white-space":"pre-line"}},(0,l.zw)(e.comment_2nd_part),513),(0,r._)("button",{class:"button is-ghost",onClick:s=>n.readMoreComment(e.id),ref_for:!0,ref:`readMoreCommentSpanRef${e.id}`},"read more",8,$t),(0,r._)("button",{class:"button is-ghost aaa",onClick:s=>n.readLessComment(e.id),ref_for:!0,ref:`readLessCommentSpanRef${e.id}`},"... read less",8,yt)])]),(0,r._)("div",St,[(0,r._)("div",zt,[(0,r._)("h1",{class:"title is-4",ref_for:!0,ref:`comment_likes_count${e.id}`},(0,l.zw)(e.user_like_comment_count),513),(0,r._)("div",{ref_for:!0,ref:`thumbs_up_solid${e.id}`,class:"aaa"},[(0,r._)("div",Dt,[(0,r.Wm)(f,{icon:"fa-solid fa-thumbs-up",onClick:s=>{n.removeOneLike(e.id,e.user_like_comment_count),n.submitCommentLikeDislike(e.username,i.Article.slug,e.id,"like"),n.submit2(e.id,"thumbs_up_solid")},size:"2x"},null,8,["onClick"]),Wt])],512),(0,r._)("div",{ref_for:!0,ref:`thumbs_up_regular${e.id}`,class:""},[(0,r._)("div",Ct,[(0,r.Wm)(f,{icon:"fa-regular fa-thumbs-up",class:"tooltip",onClick:s=>{n.addOneLike(e.id,e.user_like_comment_count),n.submitCommentLikeDislike(e.username,i.Article.slug,e.id,"like"),n.submit2(e.id,"thumbs_up_regular")},size:"2x"},null,8,["onClick"]),Mt])],512),(0,r._)("div",{ref_for:!0,ref:`thumbs_down_solid${e.id}`,class:"aaa"},[(0,r._)("div",Lt,[(0,r.Wm)(f,{icon:"fa-solid fa-thumbs-down",class:"tooltip",onClick:s=>{n.removeOneDislike(e.id,e.user_dislike_comment_count),n.submitCommentLikeDislike(e.username,i.Article.slug,e.id,"dislike"),n.submit2(e.id,"thumbs_down_solid")},size:"2x"},null,8,["onClick"]),At])],512),(0,r._)("div",{ref_for:!0,ref:`thumbs_down_regular${e.id}`,class:""},[(0,r._)("div",Pt,[(0,r.Wm)(f,{icon:"fa-regular fa-thumbs-down",class:"tooltip",onClick:s=>{n.addOneDislike(e.id,e.user_dislike_comment_count),n.submitCommentLikeDislike(e.username,i.Article.slug,e.id,"dislike"),n.submit2(e.id,"thumbs_down_regular")},size:"2x"},null,8,["onClick"]),xt])],512),(0,r._)("h1",{class:"title is-4",ref_for:!0,ref:`comment_dislikes_count${e.id}`},(0,l.zw)(e.user_dislike_comment_count),513)]),(0,r.wy)((0,r._)("button",{class:"button is-danger is-outlined",onClick:s=>n.deleteComment(t,e.username,i.Article.slug,e.id)},"Delete",8,It),[[a.F8,s.$store.state.userId==e.userID&&null!=s.$store.state.userId]])]),(0,r._)("span",null,(0,l.zw)(n.checkIfUserLikeComment(e.user_like_comment,s.$store.state.userId,e.id)),1),(0,r._)("span",null,(0,l.zw)(n.checkIfUserDislikeComment(e.user_dislike_comment,s.$store.state.userId,e.id)),1),Ft])))),128))])])])])}const Tt={class:"notification is-primary is-light show-comment-succses-msg"},Ut=(0,r._)("h3",{class:"title is-3"},"Comment published succesfully",-1),Ot=[Ut],Bt={class:"comment-form"},Ht={class:"field title-field"},Zt={class:"control"},Et={class:"field comment-field"},Nt={class:"control"},Vt=(0,r._)("br",null,null,-1),Yt=(0,r._)("div",{class:"field"},[(0,r._)("div",{class:"control button-field"},[(0,r._)("button",{class:"button is-success is-fullwidth"},"Publish")])],-1),jt={key:0,class:"notification is-danger"},Gt=(0,r._)("br",null,null,-1);function qt(s,e,t,o,i,n){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.wy)((0,r._)("div",Tt,Ot,512),[[a.F8,i.isVisible]]),(0,r._)("div",Bt,[(0,r._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...s)=>n.submitCommentForm&&n.submitCommentForm(...s)),["prevent"])),class:"box"},[(0,r._)("div",Ht,[(0,r._)("div",Zt,[(0,r.wy)((0,r._)("input",{type:"text",class:"input",name:"title","onUpdate:modelValue":e[0]||(e[0]=s=>i.title=s),placeholder:"Title of comment"},null,512),[[a.nr,i.title]])])]),(0,r._)("div",Et,[(0,r._)("div",Nt,[(0,r.wy)((0,r._)("textarea",{class:"textarea is-primary",placeholder:"Comment",name:"comment","onUpdate:modelValue":e[1]||(e[1]=s=>i.comment=s)},null,512),[[a.nr,i.comment]])])]),Vt,Yt,i.errors.length?((0,r.wg)(),(0,r.iD)("div",jt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.errors,(s=>((0,r.wg)(),(0,r.iD)("h1",{class:"title is-3 is-italic abc",key:s},(0,l.zw)(s),1)))),128))])):(0,r.kq)("",!0)],32)]),Gt],64)}var Kt={props:["slugg"],emits:["close","myComment"],name:"CommentComponent",data(){return{errors:[],title:"",comment:"",num:"this is new data",userID:null,isVisible:!1}},methods:{submitCommentForm(){if((this.title.length<5||this.comment.length<5)&&(this.errors.push("Title and comment content have to have at least 5 character each"),this.title="",this.comment=""),this.title.length>4||this.comment.length>4){this.errors=[];const s=new FormData;this.userID=this.$cookies.get("userID"),s.append("title",this.title),s.append("comment",this.comment),s.append("slug",this.slugg),s.append("userID",this.userID),Vs.ZP.post("articles/comment/",s).then((s=>{this.publishComment(s.data),this.clearCommentFields(),this.showMessageComment()}))}},publishComment(s){this.$emit("myComment",s)},clearCommentFields(){this.title="",this.comment=""},showMessageComment(){this.$store.commit("showMsg","comment published succsesfully")}}};const Xt=(0,js.Z)(Kt,[["render",qt]]);var Jt=Xt;const Qt=(0,r._)("h3",{class:"title is-3"},"Similar books",-1),sa={class:"center",id:"app2"},ea={class:"wrapper-carousel"},ta={class:"inner",ref:"inner"},aa=["src"],oa={class:"content"},ia={class:"icon is-small"},ra={class:"icon is-small"};function la(s,e,t,a,o,i){const n=(0,r.up)("router-link"),c=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)(r.HY,null,[Qt,(0,r._)("div",sa,[(0,r._)("div",ea,[(0,r._)("div",ta,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.books,(s=>((0,r.wg)(),(0,r.iD)("div",{class:"card",key:s.id},[(0,r.Wm)(n,{to:{name:"article",params:{slug:s.slug}}},{default:(0,r.w5)((()=>[(0,r._)("img",{src:s.image_path},null,8,aa)])),_:2},1032,["to"]),(0,r._)("div",oa,[(0,r._)("h1",null,(0,l.zw)(s.name),1)])])))),128))],512)]),(0,r._)("div",{class:"map",onClick:e[2]||(e[2]=(...e)=>s.newx&&s.newx(...e))},[(0,r._)("button",{class:"button",ref:"button-left",onClick:e[0]||(e[0]=(...s)=>i.buttonLeft&&i.buttonLeft(...s))},[(0,r._)("span",ia,[(0,r.Wm)(c,{icon:"fa-solid fa-arrow-left",class:"third",size:"2x"})])],512),(0,r._)("button",{class:"button",ref:"button-right",onClick:e[1]||(e[1]=(...s)=>i.buttonRight&&i.buttonRight(...s))},[(0,r._)("span",ra,[(0,r.Wm)(c,{icon:"fa-solid fa-arrow-right",class:"third",size:"2x"})])],512)])])],64)}var na={props:["genres"],emits:["carouselBook"],name:"Carousel",data(){return{books:[],count:0,screenWidth:0}},mounted(){this.screenWidth=window.innerWidth},methods:{buttonRight(){window.innerWidth>200&&window.innerWidth<=800?(this.count=this.count-22,this.$refs["inner"].style.transform="translateX("+this.count+"%)"):(window.innerWidth,this.count=this.count-33,this.$refs["inner"].style.transform="translateX("+this.count+"%)")},buttonLeft(){window.innerWidth>1300?(this.count=this.count+33,console.log(this.count),this.$refs["inner"].style.transform="translateX("+this.count+"%)"):(this.count=this.count+22,this.$refs["inner"].style.transform="translateX("+this.count+"%)")},getBooksForCarousel(s){let e=new FormData;s.forEach((s=>{e.append(s,s)})),Vs.ZP.post("articles/carousel-books/",e).then((s=>{this.books=s.data})).catch((s=>{console.log(s)}))}},watch:{genres(s){console.log(s),this.getBooksForCarousel(s)}}};const ca=(0,js.Z)(na,[["render",la]]);var ua=ca;const da={class:"rate-artical"},ma=(0,r._)("div",{class:"as"},[(0,r._)("h4",{class:"subtitle is-4"},"rate this book")],-1);function ha(s,e,t,a,o,i){const l=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",da,[(0,r.Wm)(l,{icon:"fa-solid fa-star",ref:"one",onMouseover:i.mouseOverOneStar,onMouseleave:i.removeStarsColor,onClick:i.submitNum_1,size:"2x"},null,8,["onMouseover","onMouseleave","onClick"]),(0,r.Wm)(l,{icon:"fa-solid fa-star",ref:"two",onMouseover:i.mouseOverTwoStar,onMouseleave:i.removeStarsColor,onClick:i.submitNum_2,size:"2x"},null,8,["onMouseover","onMouseleave","onClick"]),(0,r.Wm)(l,{icon:"fa-solid fa-star",ref:"three",onMouseover:i.mouseOverThreeStar,onMouseleave:i.removeStarsColor,onClick:i.submitNum_3,size:"2x"},null,8,["onMouseover","onMouseleave","onClick"]),(0,r.Wm)(l,{icon:"fa-solid fa-star",ref:"four",onMouseover:i.mouseOverFourStar,onMouseleave:i.removeStarsColor,onClick:i.submitNum_4,size:"2x"},null,8,["onMouseover","onMouseleave","onClick"]),(0,r.Wm)(l,{icon:"fa-solid fa-star",ref:"five",onMouseover:i.mouseOverFiveStar,onMouseleave:i.removeStarsColor,onClick:i.submitNum_5,size:"2x"},null,8,["onMouseover","onMouseleave","onClick"])]),ma])}const ga={class:"stars-container"},fa={class:"aa"},pa={class:"box-2 box"},_a={class:"each-star-percentage"},va=(0,r._)("p",{class:"subtitle is-6 ratings-grade-paragraf-box"},"5 star",-1),wa=["value"],ka={class:"subtitle is-6 ratings-grade-paragraf-box"},ba={class:"each-star-percentage"},$a=(0,r._)("p",{class:"subtitle is-6 ratings-grade-paragraf-box"},"4 star",-1),ya=["value"],Sa={class:"subtitle is-6 ratings-grade-paragraf-box"},za={class:"each-star-percentage"},Da=(0,r._)("p",{class:"subtitle is-6 ratings-grade-paragraf-box"},"3 star",-1),Wa=["value"],Ca={class:"subtitle is-6 ratings-grade-paragraf-box"},Ma={class:"each-star-percentage"},La=(0,r._)("p",{class:"subtitle is-6 ratings-grade-paragraf-box"},"2 star",-1),Aa=["value"],Pa={class:"subtitle is-6 ratings-grade-paragraf-box"},xa={class:"each-star-percentage"},Ia=(0,r._)("p",{class:"subtitle is-6 ratings-grade-paragraf-box"},"1 star",-1),Fa=["value"],Ra={class:"subtitle is-6 ratings-grade-paragraf-box"},Ta={class:"title is-5 show-article-avarge-stars ratings-grade-paragraf"},Ua={class:"no-star"},Oa={class:"one-star"},Ba={class:"one-half-star"},Ha={class:"two-star"},Za={class:"two-half-star"},Ea={class:"three-star"},Na={class:"three-half-star"},Va={class:"four-star"},Ya={class:"four-half-star"},ja={class:"five-star"};function Ga(s,e,t,o,i,n){const c=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)("div",ga,[(0,r._)("div",fa,[(0,r.wy)((0,r._)("div",pa,[(0,r._)("div",_a,[va,(0,r._)("progress",{class:"progress is-large is-success",value:i.showPercentageEachStar[4],max:"100"},null,8,wa),(0,r._)("p",ka,(0,l.zw)(i.showPercentageEachStar[4])+" %",1)]),(0,r._)("div",ba,[$a,(0,r._)("progress",{class:"progress is-large is-success",value:i.showPercentageEachStar[3],max:"100"},null,8,ya),(0,r._)("p",Sa,(0,l.zw)(i.showPercentageEachStar[3])+" %",1)]),(0,r._)("div",za,[Da,(0,r._)("progress",{class:"progress is-large is-success",value:i.showPercentageEachStar[2],max:"100"},null,8,Wa),(0,r._)("p",Ca,(0,l.zw)(i.showPercentageEachStar[2])+" %",1)]),(0,r._)("div",Ma,[La,(0,r._)("progress",{class:"progress is-large is-success",value:i.showPercentageEachStar[1],max:"100"},null,8,Aa),(0,r._)("p",Pa,(0,l.zw)(i.showPercentageEachStar[1])+" %",1)]),(0,r._)("div",xa,[Ia,(0,r._)("progress",{class:"progress is-large is-success",value:i.showPercentageEachStar[0],max:"100"},null,8,Fa),(0,r._)("p",Ra,(0,l.zw)(i.showPercentageEachStar[0])+" %",1)])],512),[[a.F8,i.showStar]])]),(0,r._)("div",{class:"aa",onMouseover:e[0]||(e[0]=(...s)=>n.showStarsDatails&&n.showStarsDatails(...s)),onMouseleave:e[1]||(e[1]=(...s)=>n.removeStarsDatails&&n.removeStarsDatails(...s))},[(0,r._)("h1",Ta,(0,l.zw)(s.$store.state.bookAvergeRating),1)],32),(0,r._)("div",{class:"zz",onMouseover:e[2]||(e[2]=(...s)=>n.showStarsDatails&&n.showStarsDatails(...s)),onMouseleave:e[3]||(e[3]=(...s)=>n.removeStarsDatails&&n.removeStarsDatails(...s))},[(0,r.wy)((0,r._)("div",Ua,[(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,s.$store.state.bookAvergeRating<1]]),(0,r.wy)((0,r._)("div",Oa,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,1==s.$store.state.bookAvergeRating&&s.$store.state.bookAvergeRating<=1.2]]),(0,r.wy)((0,r._)("div",Ba,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star-half-stroke",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,s.$store.state.bookAvergeRating>1.3&&s.$store.state.bookAvergeRating<=1.7]]),(0,r.wy)((0,r._)("div",Ha,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,s.$store.state.bookAvergeRating>1.7&&s.$store.state.bookAvergeRating<=2.2]]),(0,r.wy)((0,r._)("div",Za,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star-half-stroke",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,s.$store.state.bookAvergeRating>2.2&&s.$store.state.bookAvergeRating<=2.7]]),(0,r.wy)((0,r._)("div",Ea,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,s.$store.state.bookAvergeRating>2.7&&s.$store.state.bookAvergeRating<=3.2]]),(0,r.wy)((0,r._)("div",Na,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star-half-stroke",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,s.$store.state.bookAvergeRating>3.2&&s.$store.state.bookAvergeRating<=3.7]]),(0,r.wy)((0,r._)("div",Va,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,s.$store.state.bookAvergeRating>3.7&&s.$store.state.bookAvergeRating<=4.2]]),(0,r.wy)((0,r._)("div",Ya,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star-half-stroke",class:"star-orange",size:"lg"})],512),[[a.F8,s.$store.state.bookAvergeRating>4.2&&s.$store.state.bookAvergeRating<=4.7]]),(0,r.wy)((0,r._)("div",ja,[(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"})],512),[[a.F8,s.$store.state.bookAvergeRating>4.7]])],32),(0,r.Wm)(c,{icon:"fa-solid fa-arrow-down",onMouseover:n.showStarsDatails,onMouseleave:n.removeStarsDatails,size:"lg",class:"arrow-down",bounce:""},null,8,["onMouseover","onMouseleave"]),(0,r._)("h1",{class:"title is-5 ratings-grade-paragraf-2",onMouseover:e[4]||(e[4]=(...s)=>n.showStarsDatails&&n.showStarsDatails(...s)),onMouseleave:e[5]||(e[5]=(...s)=>n.removeStarsDatails&&n.removeStarsDatails(...s))},(0,l.zw)(s.$store.state.showArticleTotalStars)+"-ratings ",33),(0,r._)("h1",{class:"title is-5 ratings-grade-paragraf-2",onMouseover:e[6]||(e[6]=(...s)=>n.showStarsDatails&&n.showStarsDatails(...s)),onMouseleave:e[7]||(e[7]=(...s)=>n.removeStarsDatails&&n.removeStarsDatails(...s))},(0,l.zw)(t.numOfComments)+"-reviews ",33),(0,r.wy)((0,r._)("h1",{class:"title is-5 ratings-grade-paragraf-2",onMouseover:e[8]||(e[8]=(...s)=>n.showStarsDatails&&n.showStarsDatails(...s)),onMouseleave:e[9]||(e[9]=(...s)=>n.removeStarsDatails&&n.removeStarsDatails(...s))},[(0,r.Uk)("your-rate: "+(0,l.zw)(s.$store.state.userStars)+" ",1),(0,r.Wm)(c,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"})],544),[[a.F8,null!=s.$store.state.userStars]])])}var qa={props:["datax","totalStars","numOfComments","slug"],name:"ArticleStars",data(){return{showPercentageEachStar:[],showStar:!1}},mounted(){this.showArticleStars(this.$route.params.slug)},methods:{async showArticleStars(s){await Vs.ZP.get(`/articles/article-stars/${s}/`).then((s=>{s.data.total[0],this.$store.state.bookAvergeRating=s.data.total[0].toFixed(1),this.showPercentageEachStar=s.data.each_star_procentage,this.$store.state.showArticleTotalStars=s.data.total[1]})).catch((s=>{console.log(s)}))},showStarsDatails(){this.showStar=!0},removeStarsDatails(){this.showStar=!1}}};const Ka=(0,js.Z)(qa,[["render",Ga]]);var Xa=Ka,Ja={props:["slug","price","title","bookPhoto"],emits:["starsGrade","updateStarsOnComment","modalOpen"],name:"RatingStarsSystem",components:{},data(){return{userID:"",showStars:[],showUsersStars:null,showArticleTotalStars:null,showArticleAvargeStars:null,user:null,isVisible:!1,soldBooks:[]}},mounted(){this.showUserStars(this.$cookies.get("userID"),this.$route.params.slug)},methods:{showMessagex(){this.$store.commit("showMsg","please login first")},submitNum_1(){if(this.$cookies.get("userID")){const s=new FormData,e="1";s.append("num",e),s.append("slug",this.slug),s.append("userID",this.userID=this.$cookies.get("userID")),this.userID=this.$cookies.get("userID"),Vs.ZP.post("articles/star/",s).then((s=>{this.articalGradeToDecimalNum(s.data.star_grade),this.updateCommentStars(),this.showRateMsg(s.data.user_grade),this.$store.state.showArticleTotalStars=s.data.total_stars,this.showUserStars(this.userID,this.$route.params.slug)})).catch((s=>{console.log(s)}))}else console.log(this.$refs["one"].$el),this.showMessagex()},submitNum_2(){if(this.$cookies.get("userID")){const s=new FormData,e="2";s.append("num",e),s.append("slug",this.slug),s.append("userID",this.userID=this.$cookies.get("userID")),this.userID=this.$cookies.get("userID"),Vs.ZP.post("articles/star/",s).then((s=>{this.articalGradeToDecimalNum(s.data.star_grade),this.updateCommentStars(),this.showRateMsg(s.data.user_grade),this.$store.state.showArticleTotalStars=s.data.total_stars,this.showUserStars(this.userID,this.$route.params.slug)})).catch((s=>{console.log(s)}))}else this.showMessagex()},submitNum_3(){if(this.$cookies.get("userID")){const s=new FormData,e="3";s.append("num",e),s.append("slug",this.slug),s.append("userID",this.userID=this.$cookies.get("userID")),this.userID=this.$cookies.get("userID"),Vs.ZP.post("articles/star/",s).then((s=>{console.log(s.data),this.articalGradeToDecimalNum(s.data.star_grade),this.updateCommentStars(),this.showRateMsg(s.data.user_grade),this.$store.state.showArticleTotalStars=s.data.total_stars,this.showUserStars(this.userID,this.$route.params.slug)})).catch((s=>{console.log(s)}))}else this.showMessagex()},submitNum_4(){if(this.$cookies.get("userID")){const s=new FormData,e="4";s.append("num",e),s.append("slug",this.slug),s.append("userID",this.userID=this.$cookies.get("userID")),this.userID=this.$cookies.get("userID"),Vs.ZP.post("articles/star/",s).then((s=>{console.log(s.data),this.articalGradeToDecimalNum(s.data.star_grade),this.updateCommentStars(),this.showRateMsg(s.data.user_grade),this.$store.state.showArticleTotalStars=s.data.total_stars,this.showUserStars(this.userID,this.$route.params.slug)})).catch((s=>{console.log(s)}))}else this.showMessagex()},submitNum_5(){if(this.$cookies.get("userID")){const s=new FormData,e="5";s.append("num",e),s.append("slug",this.slug),s.append("userID",this.userID=this.$cookies.get("userID")),this.userID=this.$cookies.get("userID"),Vs.ZP.post("articles/star/",s).then((s=>{console.log(s.data),this.articalGradeToDecimalNum(s.data.star_grade),this.updateCommentStars(),this.showRateMsg(s.data.user_grade),this.$store.state.showArticleTotalStars=s.data.total_stars,this.showUserStars(this.userID,this.$route.params.slug)})).catch((s=>{console.log(s)}))}else this.showMessagex()},mouseOverOneStar(){this.$refs["one"].$el.classList.add("starr")},mouseOverTwoStar(){this.$refs["one"].$el.classList.add("starr"),this.$refs["two"].$el.classList.add("starr")},mouseOverThreeStar(){this.$refs["one"].$el.classList.add("starr"),this.$refs["two"].$el.classList.add("starr"),this.$refs["three"].$el.classList.add("starr")},mouseOverFourStar(){this.$refs["one"].$el.classList.add("starr"),this.$refs["two"].$el.classList.add("starr"),this.$refs["three"].$el.classList.add("starr"),this.$refs["four"].$el.classList.add("starr")},mouseOverFiveStar(){this.$refs["one"].$el.classList.add("starr"),this.$refs["two"].$el.classList.add("starr"),this.$refs["three"].$el.classList.add("starr"),this.$refs["four"].$el.classList.add("starr"),this.$refs["five"].$el.classList.add("starr")},removeStarsColor(){this.$refs["one"].$el.classList.remove("starr"),this.$refs["two"].$el.classList.remove("starr"),this.$refs["three"].$el.classList.remove("starr"),this.$refs["four"].$el.classList.remove("starr"),this.$refs["five"].$el.classList.remove("starr")},showUserStars(s,e){s&&Vs.ZP.get(`/articles/user-stars/${s}/${e}/`).then((s=>{"not rated"==s.data?(this.$store.state.userStars="no stars given",this.$store.state.userStarsOnComment=0):(this.$store.state.userStars=s.data[0].stars,this.$store.state.userStarsOnComment=s.data[0].stars)})).catch((s=>{console.log(s)}))},articalGradeToDecimalNum(s){this.$store.state.bookAvergeRating=s.toFixed(1)},updateCommentStars(){this.$emit("updateStarsOnComment")},openModal(){this.$emit("modalOpen")},showRateMsg(s){"not exists"==s&&this.$store.commit("showMsg","book unrated"),1===s&&this.$store.commit("showMsg","your rating: "+s+" star"),s>1&&this.$store.commit("showMsg","your rating: "+s+" star")}}};const Qa=(0,js.Z)(Ja,[["render",ha]]);var so=Qa;const eo={class:"stars-comment-container"},to={class:"zzz"},ao={class:"one-star"},oo={class:"two-star"},io={class:"three-star"},ro={class:"four-star"},lo={class:"five-star"};function no(s,e,t,o,i,l){const n=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)("div",eo,[(0,r._)("div",to,[(0,r.wy)((0,r._)("div",ao,[(0,r.Wm)(n,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,1==t.s]]),(0,r.wy)((0,r._)("div",oo,[(0,r.Wm)(n,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,2==t.s]]),(0,r.wy)((0,r._)("div",io,[(0,r.Wm)(n,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,3==t.s]]),(0,r.wy)((0,r._)("div",ro,[(0,r.Wm)(n,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",size:"lg"})],512),[[a.F8,4==t.s]]),(0,r.wy)((0,r._)("div",lo,[(0,r.Wm)(n,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"}),(0,r.Wm)(n,{icon:"fa-solid fa-star",class:"star-orange",size:"lg"})],512),[[a.F8,5==t.s]])])])}var co={props:["s"],name:"CommentStars"};const uo=(0,js.Z)(co,[["render",no]]);var mo=uo,ho={name:"ArticleView",components:{Basket:ge,RatingStarsSystem:so,ArticleStars:Xa,Carousel:ua,CommentComponent:Jt,CommentStars:mo},data(){return{Article:[],soldBooks:[],Comments:[],showStarUser:null,photo:null,articalStarGrade:null,datax:null,totalStars:null,secondPart:!1,comment_id:null,isActive:!1}},mounted(){this.showArticle(),this.showComments(this.$route.params.slug)},methods:{async showArticle(){this.$cookies.get("userID");Vs.ZP.get(`/articles/${this.$route.params.slug}/`).then((s=>{this.Article=s.data})).catch((s=>{console.log(s)}))},showComments(s){Vs.ZP.get(`/articles/comm/${s}/`).then((s=>{this.Comments=s.data})).catch((s=>{console.log(s)}))},toggleModel(s){this.name=s},publish(s){this.Comments.push(s)},updateStarsComment(){this.showComments(this.$route.params.slug)},readMore(){this.secondPart=!this.secondPart,this.$refs["readMoreLink"].innerHTML="",this.$refs["readLessLink"].innerHTML=" read less"},readLess(){this.secondPart=!this.secondPart,this.$refs["readMoreLink"].innerHTML="... read more",this.$refs["readLessLink"].innerHTML=""},readMoreComment(s){let e=this.$refs["readMoreCommentSpanRef"+s.toString()][0];e.classList.add("aaa");let t=this.$refs["readLessCommentSpanRef"+s.toString()][0];t.classList.remove("aaa");let a=this.$refs["readMoreCommentRef"+s.toString()][0];a.classList.remove("aaa")},readLessComment(s){let e=this.$refs["readLessCommentSpanRef"+s.toString()][0];e.classList.add("aaa");let t=this.$refs["readMoreCommentSpanRef"+s.toString()][0];t.classList.remove("aaa");let a=this.$refs["readMoreCommentRef"+s.toString()][0];a.classList.add("aaa")},addOneLike(s,e){if(this.$cookies.get("userID")){let t=parseInt(this.$refs["comment_likes_count"+s.toString()][0].innerHTML)+1;this.$refs["comment_likes_count"+s.toString()][0].innerHTML=t,this.$refs["thumbs_down_solid"+s.toString()][0].classList.contains("red")&&this.removeOneDislike(s,e)}},removeOneLike(s,e){if(this.$cookies.get("userID")){let e=parseInt(this.$refs["comment_likes_count"+s.toString()][0].innerHTML)-1;this.$refs["comment_likes_count"+s.toString()][0].innerHTML=e}},addOneDislike(s,e){if(this.$cookies.get("userID")){let t=parseInt(this.$refs["comment_dislikes_count"+s.toString()][0].innerHTML)+1;this.$refs["comment_dislikes_count"+s.toString()][0].innerHTML=t,this.$refs["thumbs_up_solid"+s.toString()][0].classList.contains("green")&&this.removeOneLike(s,e)}},removeOneDislike(s,e){if(this.$cookies.get("userID")){let e=parseInt(this.$refs["comment_dislikes_count"+s.toString()][0].innerHTML)-1;this.$refs["comment_dislikes_count"+s.toString()][0].innerHTML=e}},submitCommentLikeDislike(s,e,t,a){if(this.$cookies.get("userID")){const s=new FormData;s.append("user_id",this.$cookies.get("userID")),s.append("slug",e),s.append("like_dislike",a),s.append("comment_id",t),Vs.ZP.post("articles/like-dislike-comment/",s)}else this.$store.commit("showMsg","Please login first")},checkIfUserLikeComment(s,e,t){e&&s.includes(parseInt(e))&&setTimeout((()=>{this.$refs["thumbs_up_solid"+t.toString()][0].classList.add("green"),this.$refs["thumbs_up_solid"+t.toString()][0].classList.remove("aaa"),this.$refs["thumbs_up_regular"+t.toString()][0].classList.add("aaa")}),800)},checkIfUserDislikeComment(s,e,t){e&&s.includes(parseInt(e))&&setTimeout((()=>{this.$refs["thumbs_down_regular"+t.toString()][0].classList.add("aaa"),this.$refs["thumbs_down_solid"+t.toString()][0].classList.add("red"),this.$refs["thumbs_down_solid"+t.toString()][0].classList.remove("aaa")}),800)},submit2(s,e){let t=this.$refs[e+s.toString()];this.$cookies.get("userID")&&("thumbs_up_regular"==e?0==t[0].classList.length&&(this.$refs["thumbs_up_solid"+s.toString()][0].classList.remove("aaa"),this.$refs["thumbs_up_solid"+s.toString()][0].classList.add("green"),this.$refs["thumbs_up_regular"+s.toString()][0].classList.add("aaa"),this.$refs["thumbs_down_solid"+s.toString()][0].classList.remove("red"),this.$refs["thumbs_down_solid"+s.toString()][0].classList.add("aaa"),this.$refs["thumbs_down_regular"+s.toString()][0].classList.remove("aaa")):"thumbs_up_solid"==e?t[0].classList.length>0&&(this.$refs["thumbs_up_solid"+s.toString()][0].classList.remove("green"),this.$refs["thumbs_up_solid"+s.toString()][0].classList.add("aaa"),this.$refs["thumbs_up_regular"+s.toString()][0].classList.remove("aaa"),this.$refs["thumbs_down_solid"+s.toString()][0].classList.add("aaa"),this.$refs["thumbs_down_solid"+s.toString()][0].classList.remove("red")):"thumbs_down_regular"==e?0==t[0].classList.length&&(this.$refs["thumbs_down_solid"+s.toString()][0].classList.remove("aaa"),this.$refs["thumbs_down_solid"+s.toString()][0].classList.add("red"),this.$refs["thumbs_down_regular"+s.toString()][0].classList.add("aaa"),this.$refs["thumbs_up_solid"+s.toString()][0].classList.remove("green"),this.$refs["thumbs_up_solid"+s.toString()][0].classList.add("aaa"),this.$refs["thumbs_up_regular"+s.toString()][0].classList.remove("aaa")):"thumbs_down_solid"==e&&t[0].classList.length>0&&(this.$refs["thumbs_down_solid"+s.toString()][0].classList.remove("red"),this.$refs["thumbs_down_solid"+s.toString()][0].classList.add("aaa"),this.$refs["thumbs_down_regular"+s.toString()][0].classList.remove("aaa"),this.$refs["thumbs_up_solid"+s.toString()][0].classList.add("aaa"),this.$refs["thumbs_up_solid"+s.toString()][0].classList.remove("green")))},deleteComment(s,e,t,a){if(this.$store.state.userId){this.Comments.splice(s,1);const e=new FormData;e.append("user_id",this.$cookies.get("userID")),e.append("slug",t),e.append("comment_id",a),Vs.ZP.post("articles/delete-comment/",e).then((s=>{console.log("succsess")})).catch((s=>{console.log(s)}))}},showModal(){this.$refs.modal.classList.add("is-active")},removeModal(){this.$refs.modal.classList.remove("is-active")}}};const go=(0,js.Z)(ho,[["render",Rt]]);var fo=go;const po=(0,r._)("h1",{class:"title"},"Please login/register so that you can see your profile",-1),_o=[po],vo={class:"profile"},wo={class:"title is-5"},ko={class:"title is-5"},bo=["src"],$o=(0,r._)("br",null,null,-1),yo=(0,r._)("p",null,"aaaaaaaaa",-1),So={class:"modal",ref:"modalProfile"},zo=(0,r._)("div",{class:"modal-background"},null,-1),Do={class:"modal-card"},Wo=(0,r._)("section",{class:"modal-card-body"},[(0,r._)("div",{class:""},[(0,r._)("h1",{class:"title is-5 is-italic ml-3"},"Delete this profile")])],-1),Co={class:"modal-card-foot"};function Mo(s,e,t,o,i,n){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.wy)((0,r._)("div",null,_o,512),[[a.F8,""==i.username]]),(0,r.wy)((0,r._)("div",vo,[(0,r._)("div",null,[(0,r._)("h1",wo,"Username: "+(0,l.zw)(i.username),1),(0,r._)("h1",ko,"Email: "+(0,l.zw)(i.email),1),(0,r._)("img",{src:i.user_photo,alt:"no photo",width:"200"},null,8,bo),$o,(0,r._)("button",{class:"button is-medium is-danger is-rounded",onClick:e[0]||(e[0]=(...s)=>n.showModalProfile&&n.showModalProfile(...s))},"delete this profile")])],512),[[a.F8,""!=i.username]]),(0,r._)("div",null,[yo,(0,r._)("input",{type:"file",onChange:e[1]||(e[1]=(...s)=>n.uploadImage&&n.uploadImage(...s))},null,32)]),(0,r._)("div",So,[zo,(0,r._)("div",Do,[Wo,(0,r._)("footer",Co,[(0,r._)("button",{class:"button is-success",onClick:e[2]||(e[2]=(...s)=>n.deleteProfile&&n.deleteProfile(...s))},"Confirm"),(0,r._)("button",{class:"button is-danger is-outlined",onClick:e[3]||(e[3]=(...s)=>n.removeModalProfile&&n.removeModalProfile(...s))},"Cancel")])])],512)],64)}var Lo=t(255),Ao=t.n(Lo),Po={name:"UserViewProfile",data(){return{userToken:null,username:"",email:"",user_photo:null,userID:null}},mounted(){this.getUser()},methods:{async getUser(){this.userToken=this.$cookies.get("user-token"),await Vs.ZP.get("users/profile-user/",{headers:{Authorization:"Token "+this.userToken}}).then((s=>{this.username=s.data["user"].username,this.email=s.data["user"].email,this.user_photo=s.data["user_photo"].image_path})).catch((s=>{console.log(s)}))},showModalProfile(){this.$refs.modalProfile.classList.add("is-active")},logoutAfterDelete(){this.$cookies.remove("userID"),this.$cookies.remove("user-succsess"),this.$cookies.remove("user-token"),localStorage.removeItem("myPhoto"),window.location.href="/login?deleted=true"},deleteProfile(){this.userToken=this.$cookies.get("user-token"),Vs.ZP["delete"]("users/delete-profile/",{headers:{Authorization:`Token ${this.userToken}`}}).then((s=>{this.removeModalProfile(),this.logoutAfterDelete()})).catch((s=>{console.log(s)}))},removeModalProfile(){this.$refs.modalProfile.classList.remove("is-active")},uploadImage(s){const e=s.target.files[0],t=new FormData;t.append("image",e),Vs.ZP.post("/users/change_user_photo/",t,{headers:{Authorization:`Token ${this.$cookies.get("user-token")}`}}).then((s=>{console.log("Success:",s.data)}))}}};const xo=(0,js.Z)(Po,[["render",Mo]]);var Io=xo;const Fo={class:"page-sign-up"},Ro={class:"columns"},To={class:"column is-4 is-offset-4"},Uo=(0,r._)("h1",{class:"title"},"Sign up",-1),Oo={class:"field"},Bo=(0,r._)("label",null,"Required",-1),Ho={class:"control"},Zo={class:"field"},Eo=(0,r._)("label",null,"Required",-1),No={class:"control"},Vo={class:"field"},Yo=(0,r._)("label",null,"Required",-1),jo={class:"control"},Go={key:0,class:"notification is-danger"},qo=(0,r._)("p",null,"Optional",-1),Ko={class:"file is-link"},Xo={class:"file-label"},Jo={class:"file-cta"},Qo=(0,r._)("span",{class:"file-icon"},[(0,r._)("i",{class:"fas fa-upload"})],-1),si={class:"file-label"},ei=(0,r._)("hr",null,null,-1),ti={class:"cropped-photos-div"},ai=(0,r._)("h3",{class:"title is-3"},"Your profile photo",-1),oi={class:"container-slika"},ii={src:"",alt:"",class:"slika",ref:"aaa"},ri=(0,r._)("br",null,null,-1),li={class:"blob-slika"},ni={class:"title is-5"},ci=["src"],ui={class:"title is-5"},di={class:"title is-5"},mi=(0,r._)("br",null,null,-1),hi=(0,r._)("div",{class:"field"},[(0,r._)("div",{class:"control button-field"},[(0,r._)("button",{class:"button is-success is-fullwidth"},"Sign up")])],-1);function gi(s,e,t,o,i,n){const c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",Fo,[(0,r._)("div",Ro,[(0,r._)("div",To,[Uo,(0,r._)("form",{onSubmit:e[5]||(e[5]=(0,a.iM)(((...s)=>n.submitForm&&n.submitForm(...s)),["prevent"]))},[(0,r._)("div",Oo,[Bo,(0,r._)("div",Ho,[(0,r.wy)((0,r._)("input",{type:"text",class:"input",name:"username","onUpdate:modelValue":e[0]||(e[0]=s=>i.username=s),placeholder:"Username"},null,512),[[a.nr,i.username]])])]),(0,r._)("div",Zo,[Eo,(0,r._)("div",No,[(0,r.wy)((0,r._)("input",{type:"password",class:"input",name:"password1","onUpdate:modelValue":e[1]||(e[1]=s=>i.password1=s),placeholder:"Password"},null,512),[[a.nr,i.password1]])])]),(0,r._)("div",Vo,[Yo,(0,r._)("div",jo,[(0,r.wy)((0,r._)("input",{type:"password",class:"input",name:"password2","onUpdate:modelValue":e[2]||(e[2]=s=>i.password2=s),placeholder:"Repeat Password"},null,512),[[a.nr,i.password2]])])]),i.errors.length?((0,r.wg)(),(0,r.iD)("div",Go,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.errors,(s=>((0,r.wg)(),(0,r.iD)("p",{key:s},(0,l.zw)(s),1)))),128))])):(0,r.kq)("",!0),qo,(0,r._)("div",Ko,[(0,r._)("label",Xo,[(0,r._)("input",{class:"file-input",type:"file",ref:"image",name:"image",id:"image",onChange:e[3]||(e[3]=(...s)=>n.selectFile&&n.selectFile(...s))},null,544),(0,r._)("span",Jo,[Qo,(0,r._)("span",si,(0,l.zw)(i.file),1)])])]),ei,(0,r.wy)((0,r._)("div",ti,[ai,(0,r._)("div",oi,[(0,r._)("img",ii,null,512)]),ri,(0,r._)("div",li,[(0,r.wy)((0,r._)("h3",ni,"Make your avatar",512),[[a.F8,null==i.canvas]]),(0,r._)("img",{src:i.avatar,class:"rounded"},null,8,ci),(0,r.wy)((0,r._)("h3",ui,"you do not have avatar yet",512),[[a.F8,null==i.canvas]]),(0,r.wy)((0,r._)("h3",di,"your avatar",512),[[a.F8,null!=i.canvas]])]),(0,r._)("button",{class:"button is-success",type:"button",onClick:e[4]||(e[4]=(...s)=>n.imageCrop&&n.imageCrop(...s))},"Avatar-click me")],512),[[a.F8,i.image]]),mi,hi,(0,r.Uk)(" or "),(0,r.Wm)(c,{to:"/log-in"},{default:(0,r.w5)((()=>[(0,r.Uk)("click here")])),_:1}),(0,r.Uk)(" to log in! ")],32)])])])}var fi={name:"UserView",data(){return{username:"",password1:"",password2:"",image:null,file:"Uplode your image",errors:[],url:null,cropper:null,canvas:null,avatar:null,avatar2:null}},methods:{submitForm(){let s=this;const e=new FormData;this.errors=[],this.username.length>10&&this.errors.push("The username is too long, 10 characters max"),this.errors.length||(e.append("username",this.username),e.append("password1",this.password1),e.append("password2",this.password2),e.append("image",this.image),e.append("avatar",this.avatar2),Vs.ZP.post("users/register/",e).then((e=>{if("user created"==e.data.success)return this.$store.commit("showMsg","welcome "+e.data.name_of_user),this.$router.go(-1);if(e.data.password2)for(var t=0;t<e.data.password2.length;t++)s.errors.push(e.data.password2[t].message);if(e.data.username)for(t=0;t<e.data.username.length;t++)s.errors.push(e.data.username[t].message);this.username="",this.password1="",this.password2="",this.file="Uplode your image",this.image=null,this.avatar=null})))},selectFile(s){this.image=this.$refs.image.files.item(0),this.document=this.$refs.image.files.item(0),this.file=this.image.name,this.url=URL.createObjectURL(this.$refs.image.files.item(0))},imageCrop(){this.canvas=this.cropper.getCroppedCanvas({width:100,height:100}),this.canvas.toBlob((s=>{this.avatar=URL.createObjectURL(s),this.avatar2=new File([s],this.file,{type:"image/png"})}))}},watch:{url:function(s){this.$refs.aaa.src=this.url,null==this.cropper?this.cropper=new(Ao())(this.$refs.aaa,{aspectRatio:1}):null!=this.cropper&&(this.cropper.destroy(),this.cropper=new(Ao())(this.$refs.aaa,{aspectRatio:1}))}}};const pi=(0,js.Z)(fi,[["render",gi]]);var _i=pi;const vi={class:"notification is-info is-light"},wi={class:"title is-4"},ki={class:"is-underlined is-capitalized has-text-weight-bold is-italic"},bi={class:"container-articles-search-results"},$i=["src"],yi={class:"title is-5"},Si={class:"basket-container"},zi={class:"stars-home-view-container"},Di={class:"home-view-comments"},Wi={class:"title is-5"};function Ci(s,e,t,a,o,i){const n=(0,r.up)("router-link"),c=(0,r.up)("Basket"),u=(0,r.up)("ArticleStarsHome");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",vi,[(0,r._)("h1",wi,[(0,r.Uk)("Serach results for: "),(0,r._)("span",ki,(0,l.zw)(t.data),1)])]),(0,r._)("div",bi,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.books,(s=>((0,r.wg)(),(0,r.iD)("div",{key:s.id,class:"container box"},[(0,r.Wm)(n,{to:{name:"article",params:{slug:s.slug}}},{default:(0,r.w5)((()=>[(0,r._)("img",{class:"home-images",src:s.image_path,width:"200"},null,8,$i)])),_:2},1032,["to"]),(0,r._)("h1",yi,(0,l.zw)(s.name),1),(0,r._)("div",Si,[(0,r.Wm)(c,{slug:s.slug,bookName:s.name,bookPhoto:s.image_path,bookPrice:s.price},null,8,["slug","bookName","bookPhoto","bookPrice"])]),(0,r._)("div",zi,[(0,r.Wm)(u,{slug:s.slug},null,8,["slug"])]),(0,r._)("div",Di,[(0,r._)("h1",Wi,(0,l.zw)(s.num_of_comments)+" reviews",1)])])))),128))])],64)}var Mi={props:["data"],name:"SerachResults",components:{Basket:ge,ArticleStarsHome:Ae},data(){return{books:[]}},mounted(){this.getBooks(this.$route.params.data)},methods:{getBooks(s){Vs.ZP.get(`/articles/search_books/${s}/`).then((s=>{this.books=s.data})).catch((s=>{console.log(s)}))}},watch:{data(s,e){this.getBooks(s)}}};const Li=(0,js.Z)(Mi,[["render",Ci]]);var Ai=Li;const Pi={class:"notification is-info is-light"},xi={class:"title is-4"},Ii={class:"is-underlined is-capitalized has-text-weight-bold is-italic"},Fi={class:"container-articles-search-genre"},Ri=["src"],Ti={class:"title is-5"},Ui={class:"basket-container"},Oi={class:"stars-home-view-container"},Bi={class:"home-view-comments"},Hi={class:"title is-5"};function Zi(s,e,t,a,o,i){const n=(0,r.up)("router-link"),c=(0,r.up)("Basket"),u=(0,r.up)("ArticleStarsHome");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",Pi,[(0,r._)("h1",xi,[(0,r.Uk)("Serach results for: "),(0,r._)("span",Ii,(0,l.zw)(t.genre),1),(0,r.Uk)(" books")])]),(0,r._)("div",Fi,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.books,(s=>((0,r.wg)(),(0,r.iD)("div",{key:s.id,class:"container box"},[(0,r.Wm)(n,{to:{name:"article",params:{slug:s.slug}}},{default:(0,r.w5)((()=>[(0,r._)("img",{class:"home-images",src:s.image_path,width:"200"},null,8,Ri)])),_:2},1032,["to"]),(0,r._)("h1",Ti,(0,l.zw)(s.name),1),(0,r._)("div",Ui,[(0,r.Wm)(c,{slug:s.slug,bookName:s.name,bookPhoto:s.image_path,bookPrice:s.price},null,8,["slug","bookName","bookPhoto","bookPrice"])]),(0,r._)("div",Oi,[(0,r.Wm)(u,{slug:s.slug},null,8,["slug"])]),(0,r._)("div",Bi,[(0,r._)("h1",Hi,(0,l.zw)(s.num_of_comments)+" reviews",1)])])))),128))])],64)}var Ei={props:["genre"],name:"SerachBookByGenre",components:{Basket:ge,ArticleStarsHome:Ae},data(){return{books:[]}},mounted(){this.searchGenre(this.genre)},methods:{searchGenre(s){Vs.ZP.get(`/articles/books-by-genres/${this.genre}/`).then((s=>{this.books=s.data})).catch((s=>{console.log(s)}))}},watch:{genre(s,e){this.searchGenre(s)}}};const Ni=(0,js.Z)(Ei,[["render",Zi]]);var Vi=Ni;const Yi={class:"modal",ref:"payment_button"},ji=(0,r.uE)('<div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><h3 class="title is-3">procesing payment</h3></header><section class="modal-card-body modal-body"><div class="loader"></div></section><footer class="modal-card-foot"><h3 class="title is-3">it may take a few min</h3></footer></div>',2),Gi=[ji],qi={class:"row"},Ki={class:"col-75"},Xi={class:"container-main"},Ji={action:"",method:"POST"},Qi={key:0,class:"notification is-danger"},sr={class:"row"},er={class:"col-50"},tr=(0,r._)("h3",{class:"title is-3"},"Billing Address",-1),ar={for:"fname"},or={for:"email"},ir={for:"adr"},rr={for:"city"},lr={class:"row"},nr={class:"col-50"},cr={for:"state"},ur={class:"col-50"},dr=(0,r._)("label",{for:"zip"},"Zip",-1),mr={class:"col-50"},hr=(0,r._)("h3",{class:"title is-3"},"Payment",-1),gr=(0,r._)("label",{for:"fname"},"Accepted Cards",-1),fr={class:"icon-container"},pr=(0,r._)("label",{for:"cname"},"Name on Card",-1),_r=(0,r._)("label",{for:"ccnum"},"Credit card number",-1),vr=(0,r._)("label",{for:"expmonth"},"Exp Month",-1),wr={class:"row"},kr={class:"col-50"},br=(0,r._)("label",{for:"expyear"},"Exp Year",-1),$r={class:"col-50"},yr=(0,r._)("label",{for:"cvv"},"CVV",-1),Sr={class:"col-25"},zr={class:"container-main"},Dr={class:"price",style:{color:"black"}},Wr=(0,r._)("i",{class:"fa fa-shopping-cart"},null,-1),Cr={class:"book-name-cart"},Mr={class:"price"},Lr=(0,r._)("hr",null,null,-1),Ar={class:"price",style:{color:"black"}};function Pr(s,e,t,o,i,n){const c=(0,r.up)("font-awesome-icon"),u=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",Yi,Gi,512),(0,r._)("div",qi,[(0,r._)("div",Ki,[(0,r._)("div",Xi,[(0,r._)("form",Ji,[i.errors.length?((0,r.wg)(),(0,r.iD)("div",Qi,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.errors,(s=>((0,r.wg)(),(0,r.iD)("p",{key:s},(0,l.zw)(s),1)))),128))])):(0,r.kq)("",!0),(0,r._)("div",sr,[(0,r._)("div",er,[tr,(0,r._)("label",ar,[(0,r.Wm)(c,{icon:"fa-solid fa-user"}),(0,r.Uk)(" Full Name")]),(0,r.wy)((0,r._)("input",{type:"text",id:"fname","onUpdate:modelValue":e[0]||(e[0]=s=>i.fname=s),name:"firstname",placeholder:"John M. Doe"},null,512),[[a.nr,i.fname]]),(0,r._)("label",or,[(0,r.Wm)(c,{icon:"fa-solid fa-envelope"}),(0,r.Uk)(" Email")]),(0,r.wy)((0,r._)("input",{type:"text",id:"email","onUpdate:modelValue":e[1]||(e[1]=s=>i.email=s),name:"email",placeholder:"john@example.com"},null,512),[[a.nr,i.email]]),(0,r._)("label",ir,[(0,r.Wm)(c,{icon:"fa-solid fa-house"}),(0,r.Uk)(" Address")]),(0,r.wy)((0,r._)("input",{type:"text",id:"adr","onUpdate:modelValue":e[2]||(e[2]=s=>i.adr=s),name:"address",placeholder:"542 W. 15th Street"},null,512),[[a.nr,i.adr]]),(0,r._)("label",rr,[(0,r.Wm)(c,{icon:"fa-solid fa-building-columns"}),(0,r.Uk)(" City")]),(0,r.wy)((0,r._)("input",{type:"text",id:"city","onUpdate:modelValue":e[3]||(e[3]=s=>i.city=s),name:"city",placeholder:"London"},null,512),[[a.nr,i.city]]),(0,r._)("div",lr,[(0,r._)("div",nr,[(0,r._)("label",cr,[(0,r.Wm)(c,{icon:"fa-solid fa-location-dot"}),(0,r.Uk)(" Postcode")]),(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=s=>i.state=s),id:"state",name:"state",placeholder:"W8 6ED"},null,512),[[a.nr,i.state]])]),(0,r._)("div",ur,[dr,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=s=>i.zip=s),id:"zip",name:"zip",placeholder:"10001"},null,512),[[a.nr,i.zip]])])])]),(0,r._)("div",mr,[hr,gr,(0,r._)("div",fr,[(0,r.Wm)(c,{icon:"fa-brands fa-cc-visa",style:{color:"navy"},class:"bank-cards"}),(0,r.Wm)(c,{icon:"fa-brands fa-cc-amex",style:{color:"red"},class:"bank-cards"}),(0,r.Wm)(c,{icon:"fa-brands fa-cc-mastercard",style:{color:"green"},class:"bank-cards"})]),pr,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=s=>i.cname=s),id:"cname",name:"cardname",placeholder:"John More Doe"},null,512),[[a.nr,i.cname]]),_r,(0,r.wy)((0,r._)("input",{type:"text",id:"ccnum","onUpdate:modelValue":e[7]||(e[7]=s=>i.ccnum=s),name:"cardnumber",placeholder:"1111-2222-3333-4444"},null,512),[[a.nr,i.ccnum]]),vr,(0,r.wy)((0,r._)("input",{type:"text",id:"expmonth","onUpdate:modelValue":e[8]||(e[8]=s=>i.expmonth=s),name:"expmonth",placeholder:"September"},null,512),[[a.nr,i.expmonth]]),(0,r._)("div",wr,[(0,r._)("div",kr,[br,(0,r.wy)((0,r._)("input",{type:"text",id:"expyear","onUpdate:modelValue":e[9]||(e[9]=s=>i.expyear=s),name:"expyear",placeholder:"2027"},null,512),[[a.nr,i.expyear]])]),(0,r._)("div",$r,[yr,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=s=>i.cvv=s),id:"cvv",name:"cvv",placeholder:"352"},null,512),[[a.nr,i.cvv]])])])])])]),(0,r._)("button",{class:"button is-medium is-fullwidth is-success",onClick:e[11]||(e[11]=(...s)=>n.pay&&n.pay(...s))},"Pay")])]),(0,r._)("div",Sr,[(0,r._)("div",zr,[(0,r._)("h4",null,[(0,r.Uk)("Cart "),(0,r._)("span",Dr,[Wr,(0,r._)("b",null,(0,l.zw)(s.$store.state.count),1)])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.$store.state.basketList,((s,e)=>((0,r.wg)(),(0,r.iD)("p",null,[(0,r.Wm)(c,{icon:"fa-solid fa-trash",onClick:t=>{n.removeFromCart(e,s["slug"]),n.subtractPrice(s["price"])},class:"remove-book-cart-icon"},null,8,["onClick"]),(0,r.Wm)(u,{to:{name:"article",params:{slug:s["slug"]}}},{default:(0,r.w5)((()=>[(0,r._)("span",Cr,(0,l.zw)(s["book-name"]),1)])),_:2},1032,["to"]),(0,r._)("span",Mr,"Â£"+(0,l.zw)(s["price"]),1)])))),256)),Lr,(0,r._)("p",null,[(0,r.Uk)("Total "),(0,r._)("span",Ar,[(0,r._)("b",null,"Â£"+(0,l.zw)(s.$store.state.totalPrice.toFixed(2)),1)])])])])])],64)}var xr={name:"BuyBooksView",components:{},data(){return{fname:"",email:"",adr:"",city:"",state:"",zip:"",cname:"",ccnum:"",expmonth:"",expyear:"",cvv:"",errors:[]}},methods:{pay(){this.errors=[];let s=/^\d+$/.test(this.ccnum),e=/^\d+$/.test(this.expyear),t=/^\d+$/.test(this.cvv);this.fname.length<2&&(this.errors.push("The username is wrong"),this.fname=""),(this.email.split(" ").map((s=>s.trim())).length>1||!this.email.includes("@"))&&(this.errors.push("Enter a valid email."),this.email=""),this.adr.length<5&&(this.errors.push("Enter a valid address."),this.adr=""),this.city.length<2&&(this.errors.push("Enter a valid city."),this.city=""),this.zip.length<5&&(this.errors.push("Enter a valid postcode."),this.zip=""),this.cname.length<1&&(this.errors.push("Enter a valid card name."),this.cname=""),(0==s||this.ccnum.split(" ").map((s=>s.trim())).length>1||16!=this.ccnum.length)&&(this.errors.push("Enter a valid card number."),this.ccnum=""),0!=e&&4==this.expyear.length||(this.errors.push("Enter a valid year."),this.ccnum=""),0!=t&&3==this.cvv.length||(this.errors.push("Enter a valid cvv."),this.ccnum=""),this.errors.length||(this.$refs.payment_button.classList.add("is-active"),setTimeout((()=>{this.$refs.payment_button.classList.remove("is-active"),this.payment_successful(),this.$store.commit("paymentMsg")}),3e3))},payment_successful(){this.$router.push({name:"home"})},removeFromCart(s,e){if(this.$store.commit("removeFromBasketStore",s),this.$cookies.get("userID")||this.$store.state.userId){const s=new FormData;s.append("user_id",this.$cookies.get("userID")),s.append("slug",e),Vs.ZP.post("articles/delete-book-from-basket/",s)}},subtractPrice(s){this.$store.commit("subtractPriceStore",s)}}};const Ir=(0,js.Z)(xr,[["render",Pr]]);var Fr=Ir;const Rr=[{path:"/home-page/",name:"home",component:Ie},{path:"/:slug/",name:"article",component:fo},{path:"/login/",name:"log-in",component:qs},{path:"/user-profile/",name:"profile",component:Io},{path:"/register/",name:"singup",component:_i},{path:"/books-checkout/",name:"checkout",component:Fr},{path:"/search-results/:data?",name:"search",component:Ai,props:!0},{path:"/search-results-by-genre/:genre?",name:"search-book-by-genre",component:Vi,props:!0},{path:"/about",name:"about",component:()=>t.e(443).then(t.bind(t,7632))}],Tr=(0,Qs.p7)({history:(0,Qs.PO)("/"),routes:Rr});var Ur=Tr,Or=t(65),Br=(0,Or.MT)({state:{count:0,basketList:[],totalPrice:0,popOutMsg:null,popOutMsgBasket:null,bookAvergeRating:null,showArticleTotalStars:null,userStars:null,userId:null,username:null,userImage:null,messageBasket:null,message:null,paymentMessage:!1},getters:{},mutations:{addBookToBasket(s,e){s.count++,localStorage.setItem("count",s.count),s.basketList.push({"book-name":e[0],price:e[1],"book-photo":e[2],slug:e[3]})},removeFromBasketStore(s,e){s.count--,localStorage.setItem("count",s.count),s.basketList.splice(e,1)},addPriceStore(s,e){s.totalPrice+=parseFloat(e)},subtractPriceStore(s,e){s.totalPrice-=parseFloat(e)},showMsg(s,e){s.popOutMsg&&clearTimeout(s.message),s.popOutMsg=e,s.message=setTimeout((()=>s.popOutMsg=null),1900)},showMsgBasket(s,e){s.messageBasket&&clearTimeout(s.messageBasket),s.popOutMsgBasket=e,s.messageBasket=setTimeout((()=>s.popOutMsgBasket=null),1200)},paymentMsg(s){s.paymentMessage=!0,setTimeout((()=>s.paymentMessage=!1),4800)}},actions:{},modules:{}}),Hr=t(3494),Zr=t(8539),Er=t(8429),Nr=t(4551),Vr=t(7749),Yr=t(6260);Hr.vI.add(Zr.mRB,Er.NCV,Nr.vnX),Vs.ZP.defaults.baseURL="https://book-shop-marko.up.railway.app/",console.log("Axios baseURL set to:",Vs.ZP.defaults.baseURL),(0,a.ri)(Js).use(Br).use(Ur,Vs.ZP).use(i(),Yr.Z).component("font-awesome-icon",Vr.GN).mount("#app")}},e={};function t(a){var o=e[a];if(void 0!==o)return o.exports;var i=e[a]={exports:{}};return s[a].call(i.exports,i,i.exports,t),i.exports}t.m=s,function(){var s=[];t.O=function(e,a,o,i){if(!a){var r=1/0;for(u=0;u<s.length;u++){a=s[u][0],o=s[u][1],i=s[u][2];for(var l=!0,n=0;n<a.length;n++)(!1&i||r>=i)&&Object.keys(t.O).every((function(s){return t.O[s](a[n])}))?a.splice(n--,1):(l=!1,i<r&&(r=i));if(l){s.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=s.length;u>0&&s[u-1][2]>i;u--)s[u]=s[u-1];s[u]=[a,o,i]}}(),function(){t.n=function(s){var e=s&&s.__esModule?function(){return s["default"]}:function(){return s};return t.d(e,{a:e}),e}}(),function(){t.d=function(s,e){for(var a in e)t.o(e,a)&&!t.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:e[a]})}}(),function(){t.f={},t.e=function(s){return Promise.all(Object.keys(t.f).reduce((function(e,a){return t.f[a](s,e),e}),[]))}}(),function(){t.u=function(s){return"js/about.0a2524c5.js"}}(),function(){t.miniCssF=function(s){return"css/about.6dbc2e44.css"}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(s){if("object"===typeof window)return window}}()}(),function(){t.o=function(s,e){return Object.prototype.hasOwnProperty.call(s,e)}}(),function(){var s={},e="blog-vue:";t.l=function(a,o,i,r){if(s[a])s[a].push(o);else{var l,n;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==e+i){l=d;break}}l||(n=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,t.nc&&l.setAttribute("nonce",t.nc),l.setAttribute("data-webpack",e+i),l.src=a),s[a]=[o];var m=function(e,t){l.onerror=l.onload=null,clearTimeout(h);var o=s[a];if(delete s[a],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach((function(s){return s(t)})),e)return e(t)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),n&&document.head.appendChild(l)}}}(),function(){t.r=function(s){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var s=function(s,e,t,a){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var i=function(i){if(o.onerror=o.onload=null,"load"===i.type)t();else{var r=i&&("load"===i.type?"missing":i.type),l=i&&i.target&&i.target.href||e,n=new Error("Loading CSS chunk "+s+" failed.\n("+l+")");n.code="CSS_CHUNK_LOAD_FAILED",n.type=r,n.request=l,o.parentNode.removeChild(o),a(n)}};return o.onerror=o.onload=i,o.href=e,document.head.appendChild(o),o},e=function(s,e){for(var t=document.getElementsByTagName("link"),a=0;a<t.length;a++){var o=t[a],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===s||i===e))return o}var r=document.getElementsByTagName("style");for(a=0;a<r.length;a++){o=r[a],i=o.getAttribute("data-href");if(i===s||i===e)return o}},a=function(a){return new Promise((function(o,i){var r=t.miniCssF(a),l=t.p+r;if(e(r,l))return o();s(a,l,o,i)}))},o={143:0};t.f.miniCss=function(s,e){var t={443:1};o[s]?e.push(o[s]):0!==o[s]&&t[s]&&e.push(o[s]=a(s).then((function(){o[s]=0}),(function(e){throw delete o[s],e})))}}(),function(){var s={143:0};t.f.j=function(e,a){var o=t.o(s,e)?s[e]:void 0;if(0!==o)if(o)a.push(o[2]);else{var i=new Promise((function(t,a){o=s[e]=[t,a]}));a.push(o[2]=i);var r=t.p+t.u(e),l=new Error,n=function(a){if(t.o(s,e)&&(o=s[e],0!==o&&(s[e]=void 0),o)){var i=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",l.name="ChunkLoadError",l.type=i,l.request=r,o[1](l)}};t.l(r,n,"chunk-"+e,e)}},t.O.j=function(e){return 0===s[e]};var e=function(e,a){var o,i,r=a[0],l=a[1],n=a[2],c=0;if(r.some((function(e){return 0!==s[e]}))){for(o in l)t.o(l,o)&&(t.m[o]=l[o]);if(n)var u=n(t)}for(e&&e(a);c<r.length;c++)i=r[c],t.o(s,i)&&s[i]&&s[i][0](),s[i]=0;return t.O(u)},a=self["webpackChunkblog_vue"]=self["webpackChunkblog_vue"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(1366)}));a=t.O(a)})();
//# sourceMappingURL=app.1f2d7c94.js.map